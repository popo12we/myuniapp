(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/quotedPrice/index"],{"2c83":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(o("a34a"));o("944b");var a=i(o("14cd"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return g(t)||c(t)||u(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return h(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function g(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,s=new Array(e);o<e;o++)s[o]=t[o];return s}function d(t,e,o,s,a,i,n){try{var r=t[i](n),u=r.value}catch(c){return void o(c)}r.done?e(u):Promise.resolve(u).then(s,a)}function m(t){return function(){var e=this,o=arguments;return new Promise((function(s,a){var i=t.apply(e,o);function n(t){d(i,s,a,n,r,"next",t)}function r(t){d(i,s,a,n,r,"throw",t)}n(void 0)}))}}var w=function(){o.e("my_common_components/Tabbar").then(function(){return resolve(o("27cb"))}.bind(null,o)).catch(o.oe)},l={components:{Tabbar:w},onShow:function(){this.isRole=1===t.getStorageSync("roleId"),this.currentPage=0,this.count=0,this.isRole?this.getInquiryList():this.getLogisticsQuotedPriceList()},data:function(){return{keywords:"",activeColor:"#D0021B",allChecked:!1,list:[],biddingList:[],Inquiry:[],realOrderList:[],tabTitlelist:[{name:"实盘询价"},{name:"常规询价"}],current:0,swiperCurrent:0,dx:0,logisticsGeneralList:[],logisticsUngeneralList:[],isRole:1===t.getStorageSync("roleId"),currentPage:0,size:5,count:0}},methods:{toBidding:function(e){e.status="quotedPrice",this.$set(e,"titletext","报价详情"),this.$store.dispatch("checkOne",e),t.navigateTo({url:"../bidding/index"})},getInquiryList:function(){var e=this;return m(s.default.mark((function o(){var i;return s.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,(0,a.default)(e.api.v2.inquiryList,{method:"get",data:{accessToken:t.getStorageSync("accessToken"),keywords:e.keywords}});case 2:i=o.sent,"0"===i.data.code&&(e.list=[],e.biddingList=[],e.Inquiry=[],e.realOrderList=[],e.list=i.data.data.list,e.list&&e.list.length>0&&e.list.forEach((function(t,e){t.checked=!1,t.down=!1,t.name=e,t.id=e,t.currency="CNY"})));case 4:case"end":return o.stop()}}),o)})))()},getLogisticsQuotedPriceList:function(e){var o=this;return m(s.default.mark((function i(){var r,u;return s.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r="",r=e?"general":"ungeneral",s.next=4,(0,a.default)(o.api.v2.logisticssupplier,{method:"get",data:{accessToken:t.getStorageSync("accessToken"),actionType:"alreadyList",dataType:r,from:o.currentPage*o.size,size:o.size}});case 4:u=s.sent,"0"===u.data.code&&(e?o.logisticsUngeneralList=[].concat(n(o.logisticsUngeneralList),n(u.data.data.logisticsbIdVos)):o.logisticsGeneralList=[].concat(n(o.logisticsGeneralList),n(u.data.data.logisticsbIdVos)),o.count=u.data.data.count);case 6:case"end":return s.stop()}}),i)})))()},checkedAll:function(){this.getInquiryList()},change:function(t){this.logisticsGeneralList=[],this.logisticsUngeneralList=[],this.currentPage=0,this.count=0,this.swiperCurrent=t,this.getLogisticsQuotedPriceList(t)},transition:function(t){var e=t.detail.dx;this.$refs.tabs.setDx(e)},animationfinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e),this.swiperCurrent=e,this.current=e},toBiddingLogistics:function(e,o){this.$set(e,"titletext",o),this.$set(e,"status",o),this.$store.dispatch("checkOne",e),t.navigateTo({url:"../firmOfferInquiry/index"})},reachBottom:function(){0===this.swiperCurrent&&this.count>(this.currentPage+1)*this.size&&(this.currentPage+=1,this.getLogisticsQuotedPriceList(this.swiperCurrent)),1===this.swiperCurrent&&this.count>(this.currentPage+1)*this.size&&(this.currentPage+=1,this.getLogisticsQuotedPriceList(this.swiperCurrent))}},computed:{showTag:function(){return function(t){return"是"===t.biddingMode?"竞价":"询盘询价"===t.inquiryType?"询盘":"实单"}},showTagState:function(){return function(t){return 1===t.state?"已报价":3===t.state?"已放弃":4===t.state?"已结束":"未报价"}},showTagIsoutbid:function(){return function(t){return 1===t.state?"已中标":"未中标"}}}};e.default=l}).call(this,o("543d")["default"])},"415b":function(t,e,o){"use strict";o.r(e);var s=o("90b4"),a=o("80ef");for(var i in a)"default"!==i&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("7c7e");var n,r=o("f0c5"),u=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,"fbac8c5a",null,!1,s["a"],n);e["default"]=u.exports},"7c7e":function(t,e,o){"use strict";var s=o("941a"),a=o.n(s);a.a},"80ef":function(t,e,o){"use strict";o.r(e);var s=o("2c83"),a=o.n(s);for(var i in s)"default"!==i&&function(t){o.d(e,t,(function(){return s[t]}))}(i);e["default"]=a.a},"90b4":function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return s}));var s={uField:function(){return o.e("node-modules/uview-ui/components/u-field/u-field").then(o.bind(null,"f05b"))},uButton:function(){return o.e("node-modules/uview-ui/components/u-button/u-button").then(o.bind(null,"78c9"))},uRow:function(){return o.e("node-modules/uview-ui/components/u-row/u-row").then(o.bind(null,"fe9a"))},uCol:function(){return o.e("node-modules/uview-ui/components/u-col/u-col").then(o.bind(null,"43a8"))},uTabsSwiper:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-tabs-swiper/u-tabs-swiper")]).then(o.bind(null,"0dcc"))}},a=function(){var t=this,e=t.$createElement,o=(t._self._c,t.isRole?t.__map(t.list,(function(e,o){var s=t.__get_orig(e),a=t.showTag(e),i=t.showTag(e),n=t.showTag(e),r=t.showTag(e),u=t.showTag(e),c=t.showTag(e),g=t.showTag(e),h=t.showTag(e),d=t.showTag(e),m=t.showTag(e),w=t.showTag(e),l=t.showTag(e),T=t.showTag(e);return{$orig:s,m0:a,m1:i,m2:n,m3:r,m4:u,m5:c,m6:g,m7:h,m8:d,m9:m,m10:w,m11:l,m12:T}})):null),s=t.isRole?null:t.__map(t.logisticsGeneralList,(function(e,o){var s=t.__get_orig(e),a=t.showTagState(e),i=t.showTagIsoutbid(e),n=t.showTagState(e),r=t.showTagIsoutbid(e),u=t.showTagState(e),c=t.showTagIsoutbid(e),g=t.showTagState(e),h=t.showTagIsoutbid(e),d=t.showTagIsoutbid(e),m=t.showTagState(e),w=t.showTagState(e),l=t.showTagIsoutbid(e),T=t.showTagIsoutbid(e),f=t.showTagState(e),b=t.showTagIsoutbid(e),S=t.showTagState(e),I=t.showTagState(e),p=t.showTagState(e),v=t.showTagIsoutbid(e),y=t.showTagState(e),L=t.showTagIsoutbid(e),_=t.showTagState(e),P=t.showTagIsoutbid(e),k=t.showTagState(e),x=t.showTagIsoutbid(e),$=t.showTagState(e),C=t.showTagIsoutbid(e),O=t.showTagState(e),q=t.showTagIsoutbid(e),A=t.showTagState(e),j=t.showTagIsoutbid(e),R=t.showTagState(e),z=t.showTagIsoutbid(e),U=t.showTagState(e),B=t.showTagIsoutbid(e),G=t.showTagState(e),M=t.showTagIsoutbid(e),Q=t.showTagState(e),E=t.showTagIsoutbid(e),D=t.showTagState(e),F=t.showTagIsoutbid(e),J=t.showTagState(e),V=t.showTagIsoutbid(e),N=t.showTagState(e),Y=t.showTagIsoutbid(e),H=t.showTagState(e),K=t.showTagIsoutbid(e),W=t.showTagState(e),X=t.showTagIsoutbid(e),Z=t.showTagState(e),tt=t.showTagIsoutbid(e),et=t.showTagState(e),ot=t.showTagIsoutbid(e);return{$orig:s,m13:a,m14:i,m15:n,m16:r,m17:u,m18:c,m19:g,m20:h,m21:d,m22:m,m23:w,m24:l,m25:T,m26:f,m27:b,m28:S,m29:I,m30:p,m31:v,m32:y,m33:L,m34:_,m35:P,m36:k,m37:x,m38:$,m39:C,m40:O,m41:q,m42:A,m43:j,m44:R,m45:z,m46:U,m47:B,m48:G,m49:M,m50:Q,m51:E,m52:D,m53:F,m54:J,m55:V,m56:N,m57:Y,m58:H,m59:K,m60:W,m61:X,m62:Z,m63:tt,m64:et,m65:ot}})),a=t.isRole?null:t.__map(t.logisticsUngeneralList,(function(e,o){var s=t.__get_orig(e),a=t.showTagState(e),i=t.showTagIsoutbid(e),n=t.showTagState(e),r=t.showTagIsoutbid(e),u=t.showTagState(e),c=t.showTagIsoutbid(e),g=t.showTagState(e),h=t.showTagIsoutbid(e),d=t.showTagIsoutbid(e),m=t.showTagState(e),w=t.showTagState(e),l=t.showTagIsoutbid(e),T=t.showTagIsoutbid(e),f=t.showTagState(e),b=t.showTagIsoutbid(e),S=t.showTagState(e),I=t.showTagState(e),p=t.showTagState(e),v=t.showTagIsoutbid(e),y=t.showTagState(e),L=t.showTagIsoutbid(e),_=t.showTagState(e),P=t.showTagIsoutbid(e),k=t.showTagState(e),x=t.showTagIsoutbid(e),$=t.showTagState(e),C=t.showTagIsoutbid(e),O=t.showTagState(e),q=t.showTagIsoutbid(e),A=t.showTagState(e),j=t.showTagIsoutbid(e),R=t.showTagState(e),z=t.showTagIsoutbid(e),U=t.showTagState(e),B=t.showTagIsoutbid(e),G=t.showTagState(e),M=t.showTagIsoutbid(e),Q=t.showTagState(e),E=t.showTagIsoutbid(e),D=t.showTagState(e),F=t.showTagIsoutbid(e),J=t.showTagState(e),V=t.showTagIsoutbid(e),N=t.showTagState(e),Y=t.showTagIsoutbid(e),H=t.showTagState(e),K=t.showTagIsoutbid(e),W=t.showTagState(e),X=t.showTagIsoutbid(e);return{$orig:s,m66:a,m67:i,m68:n,m69:r,m70:u,m71:c,m72:g,m73:h,m74:d,m75:m,m76:w,m77:l,m78:T,m79:f,m80:b,m81:S,m82:I,m83:p,m84:v,m85:y,m86:L,m87:_,m88:P,m89:k,m90:x,m91:$,m92:C,m93:O,m94:q,m95:A,m96:j,m97:R,m98:z,m99:U,m100:B,m101:G,m102:M,m103:Q,m104:E,m105:D,m106:F,m107:J,m108:V,m109:N,m110:Y,m111:H,m112:K,m113:W,m114:X}}));t.$mp.data=Object.assign({},{$root:{l0:o,l1:s,l2:a}})},i=[]},"941a":function(t,e,o){},fd69:function(t,e,o){"use strict";(function(t){o("82ff");s(o("66fd"));var e=s(o("415b"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])}},[["fd69","common/runtime","common/vendor"]]]);