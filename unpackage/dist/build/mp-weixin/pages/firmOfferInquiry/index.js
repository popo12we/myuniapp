(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/firmOfferInquiry/index"],{"50b9":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return a}));var a={uRow:function(){return i.e("node-modules/uview-ui/components/u-row/u-row").then(i.bind(null,"fe9a"))},uCol:function(){return i.e("node-modules/uview-ui/components/u-col/u-col").then(i.bind(null,"43a8"))},uButton:function(){return i.e("node-modules/uview-ui/components/u-button/u-button").then(i.bind(null,"78c9"))},uModal:function(){return i.e("node-modules/uview-ui/components/u-modal/u-modal").then(i.bind(null,"d223"))},uForm:function(){return i.e("node-modules/uview-ui/components/u-form/u-form").then(i.bind(null,"4956"))},uFormItem:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(i.bind(null,"f0be"))},uInput:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-input/u-input")]).then(i.bind(null,"65df"))},uCheckboxGroup:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(i.bind(null,"d5df"))},uCheckbox:function(){return i.e("node-modules/uview-ui/components/u-checkbox/u-checkbox").then(i.bind(null,"9305"))},uPicker:function(){return Promise.all([i.e("common/vendor"),i.e("node-modules/uview-ui/components/u-picker/u-picker")]).then(i.bind(null,"3ab2"))},uSelect:function(){return i.e("node-modules/uview-ui/components/u-select/u-select").then(i.bind(null,"e40e"))},uToast:function(){return i.e("node-modules/uview-ui/components/u-toast/u-toast").then(i.bind(null,"fa6f"))}},n=function(){var e=this,t=e.$createElement,i=(e._self._c,"物流待报价"===e.bindingVuexCheckeddata.titletext||"物流已报价实盘询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null),a="物流待报价"===e.bindingVuexCheckeddata.titletext||"物流已报价实盘询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null,n="物流待报价"===e.bindingVuexCheckeddata.titletext||"物流已报价实盘询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null,d="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagState(e.bindingVuexCheckeddata),u="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagState(e.bindingVuexCheckeddata),o="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagIsoutbid(e.bindingVuexCheckeddata),s="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagIsoutbid(e.bindingVuexCheckeddata),c="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagState(e.bindingVuexCheckeddata),r="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagIsoutbid(e.bindingVuexCheckeddata),l="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagIsoutbid(e.bindingVuexCheckeddata),h="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagIsoutbid(e.bindingVuexCheckeddata),g="物流待报价"!==e.bindingVuexCheckeddata.titletext&&"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status||"物流已报价实盘询价"!==e.bindingVuexCheckeddata.status?null:e.showTagState(e.bindingVuexCheckeddata),b="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null,m="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null,f="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTag(e.bindingVuexCheckeddata):null,p="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagState(e.bindingVuexCheckeddata):null,x="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagState(e.bindingVuexCheckeddata):null,k="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagIsoutbid(e.bindingVuexCheckeddata):null,C="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagIsoutbid(e.bindingVuexCheckeddata):null,V="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagState(e.bindingVuexCheckeddata):null,v="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagIsoutbid(e.bindingVuexCheckeddata):null,w="物流已报价"===e.bindingVuexCheckeddata.titletext&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status&&"物流已报价常规询价"===e.bindingVuexCheckeddata.status?e.showTagState(e.bindingVuexCheckeddata):null;e.$mp.data=Object.assign({},{$root:{m0:i,m1:a,m2:n,m3:d,m4:u,m5:o,m6:s,m7:c,m8:r,m9:l,m10:h,m11:g,m12:b,m13:m,m14:f,m15:p,m16:x,m17:k,m18:C,m19:V,m20:v,m21:w}})},d=[]},a6ec:function(e,t,i){"use strict";var a=i("c952"),n=i.n(a);n.a},c3a6:function(e,t,i){"use strict";(function(e){i("82ff");a(i("66fd"));var t=a(i("c529"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},c529:function(e,t,i){"use strict";i.r(t);var a=i("50b9"),n=i("ed42");for(var d in n)"default"!==d&&function(e){i.d(t,e,(function(){return n[e]}))}(d);i("a6ec");var u,o=i("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"c41d8440",null,!1,a["a"],u);t["default"]=s.exports},c952:function(e,t,i){},d38c:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(i("a34a")),n=d(i("14cd"));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,i,a,n,d,u){try{var o=e[d](u),s=o.value}catch(c){return void i(c)}o.done?t(s):Promise.resolve(s).then(a,n)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(a,n){var d=e.apply(t,i);function o(e){u(d,a,n,o,s,"next",e)}function s(e){u(d,a,n,o,s,"throw",e)}o(void 0)}))}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c={data:function(){var e=this;return{logisticQuotationFormShow:!1,remark:"",quotedPrice:!0,bindingVuexCheckeddata:this.$store.state.checkedData,bindingData:{},myBindingData:"",logisticQuotationForm:s({price:"",startDate:"",expiredDate:"",shippingName:"",schedule:"",transferMethod:"",voyage:"",trend:"",appraisalCertificate:"",explain:"",remark:"",appraisalCertificateValue:"",trendValue:""},"appraisalCertificateValue",""),rules3:{price:[{trigger:["blur","change"],required:!0,validator:function(e,t,i){var a=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;a.test(t)?i():i(new Error("请输入准确的价格"))}}],startDate:[{required:!0,message:"请选择开始时间",trigger:["change"]}],expiredDate:[{required:!0,message:"请选择结束时间",trigger:["change"]},{validator:function(t,i,a){return new Date(i)>new Date(e.logisticQuotationForm.startDate)},message:"结束时间要大于开始时间",trigger:["change"]}],shippingName:[{required:!0,message:"请填写船公司",trigger:["change","blur"]}],schedule:[{required:!0,message:"请选择船期",schedule:["change"]}],transferMethod:[{required:!0,message:"请选择转运方式",trigger:["change"]}],appraisalCertificate:[{required:!0,message:"请选择是否有鉴定书",trigger:["change"]}],voyage:[{required:!0,message:"请填写航程",trigger:["change","blur"]},{pattern:/^(0|[1-9][0-9]*)(\.\d+)?$/,message:"请输入准确的数字",trigger:["change","blur"]}],trend:[{required:!0,message:"请选择价格趋势",schedule:["change"]}]},selectTransferMethodShow:!1,selectTransferMethodList:[{value:"1",label:"中转"},{value:"2",label:"直达"}],selectAppraisalCertificateShow:!1,selectAppraisalCertificateList:[{value:"0",label:"否"},{value:"1",label:"是"}],selectPriceTrendShow:!1,selectPriceTrendList:[{value:"0",label:"上升"},{value:"1",label:"平稳"},{value:"2",label:"下降"}],checkscheduleList:[{name:"周一",checked:!1},{name:"周二",checked:!1},{name:"周三",checked:!1},{name:"周四",checked:!1},{name:"周五",checked:!1},{name:"周六",checked:!1},{name:"周日",checked:!1}],paramsLogistic:{year:!0,month:!0,day:!0},dateTimeStart:!1,dateTimeEnd:!1,giveupbiddingShow:!1}},created:function(){this.getDetails()},onReady:function(){this.$refs.iForm3.setRules(this.rules3)},methods:{getDetails:function(){var t=this;return o(a.default.mark((function i(){var d,u,o;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return d={},t.myBindingData="",d="物流待报价"===t.bindingVuexCheckeddata.titletext||"物流已报价实盘询价"===t.bindingVuexCheckeddata.status?{accessToken:e.getStorageSync("accessToken"),actionType:"details",dataType:"ungeneral",bidId:t.bindingVuexCheckeddata.bidId}:{accessToken:e.getStorageSync("accessToken"),actionType:"details",dataType:"general",inaploId:t.bindingVuexCheckeddata.inaploId,inaplosuppId:t.bindingVuexCheckeddata.inaplosuppId},i.next=5,(0,n.default)(t.api.v2.logisticssupplier,{method:"get",data:d});case 5:if(u=i.sent,"0"!==u.data.code){i.next=18;break}if(t.bindingData=u.data.data,"物流已报价"!==t.bindingVuexCheckeddata.titletext){i.next=18;break}if(!(t.bindingData.logisticsbidsupplierVos&&t.bindingData.logisticsbidsupplierVos.length>0)){i.next=18;break}o=0;case 11:if(!(o<t.bindingData.logisticsbidsupplierVos.length)){i.next=18;break}if("1"!=t.bindingData.logisticsbidsupplierVos[o].isMy){i.next=15;break}return t.myBindingData=t.bindingData.logisticsbidsupplierVos[o],i.abrupt("break",18);case 15:o++,i.next=11;break;case 18:case"end":return i.stop()}}),i)})))()},modalOpen:function(){this.logisticQuotationFormShow=!0},showValidityStart:function(){this.dateTimeStart=!0},showValidityEnd:function(){this.dateTimeEnd=!0},confirmTimeStart:function(e){this.logisticQuotationForm.startDate="".concat(e.year,"-").concat(e.month,"-").concat(e.day)},confirmTimeEnd:function(e){this.logisticQuotationForm.expiredDate="".concat(e.year,"-").concat(e.month,"-").concat(e.day)},showTrendSelect:function(){this.selectPriceTrendShow=!0},showAppraisalCertificate:function(){this.selectAppraisalCertificateShow=!0},showTransferMethod:function(){this.selectTransferMethodShow=!0},confirmTransferMethod:function(e){this.logisticQuotationForm.transferMethodValue=e[0].label,this.logisticQuotationForm.transferMethod=e[0].value},confirmAppraisalCertificate:function(e){this.logisticQuotationForm.appraisalCertificate=e[0].value,this.logisticQuotationForm.appraisalCertificateValue=e[0].label},confirmPriceTrend:function(e){this.logisticQuotationForm.trend=e[0].value,this.logisticQuotationForm.trendValue=e[0].label},checkboxGroupChange:function(e){var t=[];e.length>0&&(e.includes("周一")&&t.push(1),e.includes("周二")&&t.push(2),e.includes("周三")&&t.push(3),e.includes("周四")&&t.push(4),e.includes("周五")&&t.push(5),e.includes("周六")&&t.push(6),e.includes("周日")&&t.push(7));var i=t.join(",");this.logisticQuotationForm.schedule=i},logisticSubmitBidding:function(){var t=this;this.$refs.iForm3.validate(function(){var i=o(a.default.mark((function i(d){var u;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!d){i.next=7;break}return i.next=3,(0,n.default)(t.api.v2.logisticsBidQuotation,{method:"post",data:{accessToken:e.getStorageSync("accessToken"),type:"real",list:[{bidId:t.bindingVuexCheckeddata.bidId,custId:t.bindingVuexCheckeddata.custId,price:t.logisticQuotationForm.price&&Number(t.logisticQuotationForm.price),startDate:t.logisticQuotationForm.startDate+" 00:00:00",expiredDate:t.logisticQuotationForm.expiredDate+" 23:59:59",shippingName:t.logisticQuotationForm.shippingName,schedule:t.logisticQuotationForm.schedule,transferMethod:t.logisticQuotationForm.transferMethod&&Number(t.logisticQuotationForm.transferMethod),voyage:t.logisticQuotationForm.voyage&&Number(t.logisticQuotationForm.voyage),isCertificate:t.logisticQuotationForm.appraisalCertificate&Number(t.logisticQuotationForm.appraisalCertificate),priceTrendType:t.logisticQuotationForm.trend&Number(t.logisticQuotationForm.trend),priceTrendRemark:t.logisticQuotationForm.explain,remark:t.logisticQuotationForm.remark}]}});case 3:u=i.sent,"0"===u.data.code?t.$refs.toast.show({title:"提交报价成功",type:"success",position:"top"}):t.$refs.toast.show({title:"提交报价失败",type:"error",position:"top"}),t.resetLogisticQuotationForm(),t.logisticQuotationFormShow=!1;case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())},giveupbidding:function(){this.giveupbiddingShow=!0},sureGiveupBidding:function(){var t=this;return o(a.default.mark((function i(){var d;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,n.default)(t.api.v2.giveUpLogisticsBid,{method:"post",data:{accessToken:e.getStorageSync("accessToken"),type:"real",bidId:t.bindingVuexCheckeddata.bidId,custId:t.bindingVuexCheckeddata.custId}});case 2:d=i.sent,"0"===d.data.code?(t.$refs.toast.show({title:"放弃报价成功",type:"success",position:"top"}),t.logicInquiryList()):t.$refs.toast.show({title:"放弃报价失败",type:"error",position:"top"});case 4:case"end":return i.stop()}}),i)})))()},resetLogisticQuotationForm:function(){this.logisticQuotationForm=s({price:"",startDate:"",expiredDate:"",shippingName:"",schedule:"",transferMethod:"",voyage:"",trend:"",appraisalCertificate:"",explain:"",remark:"",appraisalCertificateValue:"",trendValue:""},"appraisalCertificateValue",""),this.$refs["iForm3"].resetFields()}},watch:{"$store.state.checkData":{deep:!0,immediate:!0,handler:function(){wx.setNavigationBarTitle({title:"实盘询价"})}}},computed:{showTag:function(){return function(e){return"PC007"===e.moduleCode?"实盘":"常规"}},showTagState:function(){return function(e){return 1===e.state?"已报价":3===e.state?"已放弃":4===e.state?"已结束":"未报价"}},showTagIsoutbid:function(){return function(e){return 1===e.isOutbid&&3===e.auditState?"已中标":0===e.isOutbid&&3===e.auditState?"未中标":""}}}};t.default=c}).call(this,i("543d")["default"])},ed42:function(e,t,i){"use strict";i.r(t);var a=i("d38c"),n=i.n(a);for(var d in a)"default"!==d&&function(e){i.d(t,e,(function(){return a[e]}))}(d);t["default"]=n.a}},[["c3a6","common/runtime","common/vendor"]]]);